!function(){"use strict";const e=document.querySelector("body"),t=document.querySelector(".top"),o=document.getElementById("orderDialog"),r=document.getElementById("questionDialog"),s=document.querySelectorAll(".openOrderDialogBtn"),c=document.querySelectorAll(".openQuestionDialogBtn");if(s&&s.forEach((e=>{e.addEventListener("click",(()=>{o.showModal()}))})),c&&c.forEach((e=>{e.addEventListener("click",(()=>{r.showModal()}))})),o){o.querySelector(".close-modal").addEventListener("click",(()=>{o.close("")}))}if(r){r.querySelector(".close-modal").addEventListener("click",(()=>{r.close()}))}window.addEventListener("load",(function(){document.querySelector(".carousel")&&function(){const e=document.querySelector(".carousel"),t=e.querySelector(".slider"),o=e.querySelector(".slide"),r=t.children.length;let s=o.offsetWidth;const c=e.querySelector(".carousel-dots"),d=[];for(let e=0;e<r;e++){const t=document.createElement("button");t.classList.add("dot"),t.setAttribute("aria-label",`Slide ${e+1}`),t.addEventListener("click",(()=>a(e))),c.appendChild(t),d.push(t)}const n=()=>{if(s=o.offsetWidth,0===s)return;const e=Math.round(t.scrollLeft/s);d.forEach(((t,o)=>{o===e?t.classList.add("active"):t.classList.remove("active")}))};n(),document.querySelector("#button_bck").addEventListener("click",(()=>a("backward"))),document.querySelector("#button_fwd").addEventListener("click",(()=>a("forward"))),document.addEventListener("keydown",(e=>{"ArrowLeft"===e.code?a("backward"):"ArrowRight"===e.code&&a("forward")})),window.addEventListener("resize",(()=>{s=o.offsetWidth}));const l=e=>{const o=t.scrollWidth-s;if("forward"===e){const e=t.scrollLeft+s;return e<=o?e:0}if("backward"===e){if(t.scrollLeft<=1)return o;{const e=t.scrollLeft-s;return e>=0?e:0}}if("number"==typeof e){return e*s}},a=e=>{t.scrollLeft=l(e),n()};t.addEventListener("scroll",(()=>{n()}))}()})),t&&t.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.scrollIntoView(!0,{behavior:"smooth"})}),!1),document.addEventListener("DOMContentLoaded",(()=>{async function e(e){e.preventDefault();const t=e.target,o={};for(const e of t.elements)e.name&&(o[e.name]=e.value);const r=t.parentNode.querySelector(".form-loading"),s=t.parentNode.querySelector(".form-success"),c=t.parentNode.querySelector(".form-error");t.classList.add("fhide"),r.classList.remove("fhide"),r.classList.add("fade-in");try{const e=await fetch("https://social-octopus.blok44.ru/",{method:"POST",body:JSON.stringify(o)});e.ok?(console.log("Форма успешно отправлена!"),ym(92482398,"reachGoal","lead"),r.classList.add("fhide"),s.classList.remove("fhide"),s.classList.add("fade-in")):(console.error("Ошибка при отправке формы:",e.status),r.classList.add("fhide"),c.classList.remove("fhide"),c.classList.add("fade-in"))}catch(e){console.error("Произошла ошибка:",e),r.classList.add("fhide"),c.classList.remove("fhide"),c.classList.add("fade-in")}finally{setTimeout((()=>{r.classList.add("fhide"),s.classList.add("fhide"),c.classList.add("fhide"),t.classList.remove("fhide"),t.reset()}),5e3)}}document.querySelectorAll("form").forEach((t=>{t.addEventListener("submit",e)}))}));const d=document.querySelector("#opa-button");d&&d.addEventListener("click",(()=>{ym(92482398,"reachGoal","opa")}))}();